/**
 * FoodyLog Global Styles with shadcn/ui Integration
 * 
 * Custom FoodyLog theme with warm cream/brown palette and green accents.
 * Implements the design system from FoodyLog_UI_UX_Design.md
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* FoodyLog Custom Theme - Light Mode */
    --background: 30 43% 90%; /* #f0e5d9 - Warm cream background */
    --foreground: 30 12% 16%; /* #2f2a25 - Dark brown text */
    --card: 30 43% 90%; /* #f0e5d9 - Same as background for cards */
    --card-foreground: 30 12% 16%; /* #2f2a25 - Dark brown text on cards */
    --popover: 30 43% 90%; /* #f0e5d9 - Popover background */
    --popover-foreground: 30 12% 16%; /* #2f2a25 - Popover text */
    --primary: 139 29% 42%; /* #5da271 - Green accent for primary actions */
    --primary-foreground: 0 0% 100%; /* #ffffff - White text on green */
    --secondary: 30 33% 80%; /* #d4c2b2 - Subtle brown for secondary elements */
    --secondary-foreground: 30 12% 16%; /* #2f2a25 - Dark text on secondary */
    --muted: 30 40% 87%; /* #e3d5c5 - Muted background for hover states */
    --muted-foreground: 30 12% 16%; /* #2f2a25 - Text on muted backgrounds */
    --accent: 139 29% 42%; /* #5da271 - Same as primary for consistency */
    --accent-foreground: 0 0% 100%; /* #ffffff - White text on accent */
    --destructive: 0 84% 60%; /* #ef4444 - Red for destructive actions */
    --destructive-foreground: 0 0% 100%; /* #ffffff - White text on red */
    --border: 30 33% 80%; /* #d4c2b2 - Subtle borders */
    --input: 30 40% 87%; /* #e3d5c5 - Input background */
    --ring: 139 29% 42%; /* #5da271 - Focus ring color */
    --radius: 0.5rem; /* 8px border radius */

    /* FoodyLog Rating Colors */
    --rating-excellent: 139 35% 45%; /* Darker green for excellent ratings */
    --rating-great: 139 29% 42%; /* Primary green for great ratings */
    --rating-good: 45 93% 47%; /* Yellow for good ratings */
    --rating-poor: 25 95% 53%; /* Orange for poor ratings */
    --rating-bad: 0 84% 60%; /* Red for bad ratings */
  }

  .dark {
    /* FoodyLog Custom Theme - Dark Mode */
    --background: 24 7% 12%; /* #1e1b1a - Dark brown background */
    --foreground: 30 43% 90%; /* #f0e5d9 - Cream text */
    --card: 24 7% 12%; /* #1e1b1a - Same as background for cards */
    --card-foreground: 30 43% 90%; /* #f0e5d9 - Cream text on cards */
    --popover: 24 7% 12%; /* #1e1b1a - Popover background */
    --popover-foreground: 30 43% 90%; /* #f0e5d9 - Popover text */
    --primary: 139 29% 35%; /* #4b845e - Darker green for dark mode */
    --primary-foreground: 30 12% 16%; /* #2f2a25 - Dark text on green (better contrast) */
    --secondary: 34 12% 22%; /* #453f3b - Darker secondary */
    --secondary-foreground: 30 43% 90%; /* #f0e5d9 - Cream text on secondary */
    --muted: 28 9% 16%; /* #2a2522 - Muted background */
    --muted-foreground: 30 43% 90%; /* #f0e5d9 - Cream text on muted */
    --accent: 139 29% 35%; /* #4b845e - Same as primary */
    --accent-foreground: 30 12% 16%; /* #2f2a25 - Dark text on accent */
    --destructive: 0 84% 60%; /* #ef4444 - Same red for destructive */
    --destructive-foreground: 0 0% 100%; /* #ffffff - White text on red */
    --border: 34 12% 22%; /* #453f3b - Darker borders */
    --input: 28 9% 16%; /* #2a2522 - Darker input background */
    --ring: 139 29% 35%; /* #4b845e - Focus ring color */

    /* FoodyLog Rating Colors - Dark Mode Adjusted */
    --rating-excellent: 139 35% 50%; /* Brighter green for dark mode */
    --rating-great: 139 29% 45%; /* Adjusted green */
    --rating-good: 45 93% 55%; /* Brighter yellow */
    --rating-poor: 25 95% 60%; /* Brighter orange */
    --rating-bad: 0 84% 65%; /* Brighter red */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* FoodyLog specific base styles */
  #root {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  /* Enhanced focus styles for accessibility (WCAG 2.1 AA) */
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2;
  }

  /* Mobile-first responsive images */
  img,
  picture,
  video,
  canvas,
  svg {
    display: block;
    max-width: 100%;
  }

  /* Form elements inherit font */
  input,
  button,
  textarea,
  select {
    font: inherit;
  }

  button {
    cursor: pointer;
  }

  /* FoodyLog custom animations */
  .meal-card-hover {
    @apply transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5;
  }

  .photo-capture-flash {
    @apply animate-shutter;
  }

  .star-selected {
    @apply animate-star-fill;
  }

  .input-error {
    @apply animate-shake border-destructive;
  }
}

/* PWA safe area handling for mobile devices */
@supports (padding: max(0px)) {
  .safe-area-inset-top {
    padding-top: max(var(--spacing-4), env(safe-area-inset-top));
  }
  
  .safe-area-inset-bottom {
    padding-bottom: max(var(--spacing-4), env(safe-area-inset-bottom));
  }
  
  .safe-area-inset-left {
    padding-left: max(var(--spacing-4), env(safe-area-inset-left));
  }
  
  .safe-area-inset-right {
    padding-right: max(var(--spacing-4), env(safe-area-inset-right));
  }
}

/* Utility classes */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}